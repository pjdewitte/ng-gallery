
<div class="console-background">

</div>

<div class="console">

  <div flow-init="{target: 'api/models/upload', testChunks:false, chunkSize: 1024 * 1024, generateUniqueIdentifier: flowIdentifier}"
       flow-file-success="onFileSuccess($file, $message, $flow)"
       flow-file-progress="onFileProgress($file, $flow)"
       flow-file-added="onFileAdded($file, $event, $flow)"
       flow-files-added="onFilesAdded($files, $event, $flow)"
       flow-files-submitted="onFilesSubmitted($files, $event, $flow)"
       flow-file-retry="someHandlerMethod($file, $flow)"
       flow-file-error="someHandlerMethod($file, $message, $flow)"
       flow-error="someHandlerMethod($file, $message, $flow)"
       flow-complete="onUploadComplete()"
       flow-upload-started="onUploadStarted()"
       flow-progress="onProgress()"
       flow-name="uploader.flow">

    <div class="box droptreebox"
         flow-drag-enter="style={border:'3px solid red'}"
         flow-drag-leave="style={}"
         ng-style="style" flow-drop>

      <div id="tree-box-list" aria-dropeffect="copy execute">
        {{dropMessage}}
      </div>

      <treecontrol class="tree-light"
                   tree-model="nodes"
                   options="treeOptions"
                   expanded-nodes="expandedNodes"
                   on-selection="onNodeSelected(node, selected)">

        <b ng-style="node.selected ? { 'color':'#FF0000'} : { 'color':'#00'}">{{node.label}}</b>{{node.value}}

      </treecontrol>
    </div>

    <br/>

    <button class="btn btn-default" ng-click="onUpload()">
      Upload
    </button>

    <br/>
    <br/>

    <div ng-repeat="node in uploads">
      <div class="progress">
        <div class="bar"  ng-style="{'width':node.progress}">

        </div>
          <span>
            {{node.progressText}}
            <a ng-if="node.href !== null" href="{{node.href}}" target="_blank" style="color:#FFFFFF">
              View
            </a>
          </span>
      </div>
    </div>

  </div>

  <div style="min-height: 100px">
  </div>

</div>
